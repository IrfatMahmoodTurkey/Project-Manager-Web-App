@model ProjectManagementWebApp.Models.Comment

@{
    ViewData["Title"] = "Add";
}

<ol class="breadcrumb">
    <li class="breadcrumb-item">
        <a href="@Url.Action("Index","Home")"><i class="fas fa-home"></i> Home</a>
    </li>
    <li class="breadcrumb-item"><i class="fas fa-list-alt"></i> View All Projects</li>
    <li class="breadcrumb-item"><i class="fas fa-info-circle"></i> Details of a Project</li>
    <li class="breadcrumb-item active"><i class="fas fa-comment"></i> Add New Comment</li>
</ol>

<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-7">
        <form asp-action="Add" class="form-horizontal">
            <h4><i class="fas fa-comment" style="color: #1B5E20"></i> Add Comment</h4><hr />

            @Html.Raw(ViewData["Message"])

            <input type="hidden" asp-for="ProjectId" value="@ViewData["ProjectId"]" />

            <div class="form-group">
                <label asp-for="TaskId">Tasks</label>
                <br />
                <select asp-for="TaskId" asp-items="@ViewBag.Tasks" class="form-control">
                    <option value="">-- Select --</option>
                </select>

                <span asp-validation-for="TaskId" style="color: red"></span>
            </div>

            <div class="form-group">
                <label asp-for="Mension">Mension User</label>
                <br />
                <select asp-for="Mension" asp-items="@ViewBag.Users" class="form-control" oninput="addMentionName();">
                    <option value="">None</option>
                </select>

                <span asp-validation-for="Mension" style="color: red"></span>
            </div>

            <div class="form-group">
                <label asp-for="CommentDescription">Comment</label>
                <br />
                <input asp-for="CommentDescription" class="form-control" />

                <span asp-validation-for="CommentDescription" style="color: red"></span>
            </div>



            <div class="form-group">
                <input type="submit" class="btn btn-default" value="Comment" style="width: 100%" />
            </div>
        </form>
    </div>
</div>



<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
<script>
    function addMentionName() {
        var mensionName = document.getElementById("Mension").value;

        document.getElementById("CommentDescription").value = '#'+mensionName +' || '+ document.getElementById("CommentDescription").value;
    }
</script>